<h1 class="text-center">You're Liked Meals!</h1>
<br>

<h1 *ngIf="loggedIn">{{ user.name }}'s Favorite Meals</h1>
<div class="row">
    <!-- <div *ngFor="let r of Recipes; index as i" class="row row-cols-1 row-cols-md-2 g-4"> -->
    <div *ngFor="let r of Recipes; index as i" class="row col-sm-4 mb-4">
        <div class="col">
            <div class="card">
                <img src="https://spoonacular.com/recipeImages/{{r.recipeId}}-312x150.jpg" class="card-img-top">
                <div class="card-body">
                    <h4 class="card-title" class="text-center"><b>{{r.recipeTitle}}</b></h4>
                    <br>
                    <p class="card-text"><b>Cook Time:</b> {{r.readyInMinutes}} Minutes</p>
                    <p><b>Servings:</b> {{r.servings}}</p>
                    <p><b>Goal:</b> {{userProfile.goal}}</p>
                    <p><b>Plan:</b> {{ mealQuota(r.totalCalories) }}</p>
                    <br>
                    <div *ngIf="userProfile.goal">
                        <strong (click)="toggleDate(i)" class="btn btn-secondary">Add to Meal Plan</strong>
                        <div *ngIf="displayDate[i]">
                            <br>
                            <!--Carissa's update-->
                            <p><b>Select Date:</b></p>
                            <input type="date" [(ngModel)]="date">
                            <br><br>
                            <strong (click)="addMealPlan(r.id)" (click)="displayDate[i]=false" class="btn btn-dark">Confirm</strong>
                            <br>
                        </div>
                        <br><br>
                        <strong class="btn btn-outline-danger" (click)="deleteFavorite(r.id)">Remove Favorite</strong>
                </div>
            </div>
        </div>
    </div>
</div>
